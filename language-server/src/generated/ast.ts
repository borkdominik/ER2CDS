/******************************************************************************
 * This file was generated by langium-cli 2.1.0.
 * DO NOT EDIT MANUALLY!
 ******************************************************************************/

/* eslint-disable */
import type { AstNode, Reference, ReferenceInfo, TypeMetaData } from 'langium';
import { AbstractAstReflection } from 'langium';

export const ER2CDSTerminals = {
    ID: /[_/a-zA-Z][\w_/]*/,
    INT: /[0-9]+/,
    WS: /\s+/,
    ML_COMMENT: /\/\*[\s\S]*?\*\//,
    SL_COMMENT: /\/\/[^\n\r]*/,
};

export type ASSOCIATION = 'association';

export function isASSOCIATION(item: unknown): item is ASSOCIATION {
    return item === 'association';
}

export type ASSOCIATION_TO_PARENT = 'association-to-parent';

export function isASSOCIATION_TO_PARENT(item: unknown): item is ASSOCIATION_TO_PARENT {
    return item === 'association-to-parent';
}

export type AttributeType = 'key' | 'no-out';

export type CardinalityType = '0..N' | '1';

export type COMPOSITION = 'composition';

export function isCOMPOSITION(item: unknown): item is COMPOSITION {
    return item === 'composition';
}

export type JoinOrderType = number;

export function isJoinOrderType(item: unknown): item is JoinOrderType {
    return typeof item === 'number';
}

export type KEY = 'key';

export function isKEY(item: unknown): item is KEY {
    return item === 'key';
}

export type NO_OUT = 'no-out';

export function isNO_OUT(item: unknown): item is NO_OUT {
    return item === 'no-out';
}

export type ONE = '1';

export function isONE(item: unknown): item is ONE {
    return item === '1';
}

export type RelationshipType = 'association' | 'association-to-parent' | 'composition';

export type ZERO_MANY = '0..N';

export function isZERO_MANY(item: unknown): item is ZERO_MANY {
    return item === '0..N';
}

export interface Attribute extends AstNode {
    readonly $container: Entity;
    readonly $type: 'Attribute';
    alias?: string
    datatype?: DataType
    name: string
    type?: AttributeType
}

export const Attribute = 'Attribute';

export function isAttribute(item: unknown): item is Attribute {
    return reflection.isInstance(item, Attribute);
}

export interface DataType extends AstNode {
    readonly $container: Attribute;
    readonly $type: 'DataType';
    type: string
}

export const DataType = 'DataType';

export function isDataType(item: unknown): item is DataType {
    return reflection.isInstance(item, DataType);
}

export interface Entity extends AstNode {
    readonly $container: ER2CDS;
    readonly $type: 'Entity';
    alias?: string
    attributes: Array<Attribute>
    name: string
}

export const Entity = 'Entity';

export function isEntity(item: unknown): item is Entity {
    return reflection.isInstance(item, Entity);
}

export interface ER2CDS extends AstNode {
    readonly $type: 'ER2CDS';
    entities: Array<Entity>
    name: string
    relationships: Array<Relationship>
}

export const ER2CDS = 'ER2CDS';

export function isER2CDS(item: unknown): item is ER2CDS {
    return reflection.isInstance(item, ER2CDS);
}

export interface Relationship extends AstNode {
    readonly $container: ER2CDS;
    readonly $type: 'Relationship';
    joinClauses: Array<RelationshipJoinClause>
    joinOrder?: JoinOrderType
    name: string
    source?: RelationshipEntity
    target?: RelationshipEntity
    type?: RelationshipType
}

export const Relationship = 'Relationship';

export function isRelationship(item: unknown): item is Relationship {
    return reflection.isInstance(item, Relationship);
}

export interface RelationshipEntity extends AstNode {
    readonly $container: Relationship;
    readonly $type: 'RelationshipEntity';
    cardinality?: CardinalityType
    target: Reference<Entity>
}

export const RelationshipEntity = 'RelationshipEntity';

export function isRelationshipEntity(item: unknown): item is RelationshipEntity {
    return reflection.isInstance(item, RelationshipEntity);
}

export interface RelationshipJoinClause extends AstNode {
    readonly $container: Relationship;
    readonly $type: 'RelationshipJoinClause';
    firstAttribute: Reference<Attribute>
    secondAttribute: Reference<Attribute>
}

export const RelationshipJoinClause = 'RelationshipJoinClause';

export function isRelationshipJoinClause(item: unknown): item is RelationshipJoinClause {
    return reflection.isInstance(item, RelationshipJoinClause);
}

export type ER2CDSAstType = {
    Attribute: Attribute
    DataType: DataType
    ER2CDS: ER2CDS
    Entity: Entity
    Relationship: Relationship
    RelationshipEntity: RelationshipEntity
    RelationshipJoinClause: RelationshipJoinClause
}

export class ER2CDSAstReflection extends AbstractAstReflection {

    getAllTypes(): string[] {
        return ['Attribute', 'DataType', 'ER2CDS', 'Entity', 'Relationship', 'RelationshipEntity', 'RelationshipJoinClause'];
    }

    protected override computeIsSubtype(subtype: string, supertype: string): boolean {
        switch (subtype) {
            default: {
                return false;
            }
        }
    }

    getReferenceType(refInfo: ReferenceInfo): string {
        const referenceId = `${refInfo.container.$type}:${refInfo.property}`;
        switch (referenceId) {
            case 'RelationshipEntity:target': {
                return Entity;
            }
            case 'RelationshipJoinClause:firstAttribute':
            case 'RelationshipJoinClause:secondAttribute': {
                return Attribute;
            }
            default: {
                throw new Error(`${referenceId} is not a valid reference id.`);
            }
        }
    }

    getTypeMetaData(type: string): TypeMetaData {
        switch (type) {
            case 'Entity': {
                return {
                    name: 'Entity',
                    mandatory: [
                        { name: 'attributes', type: 'array' }
                    ]
                };
            }
            case 'ER2CDS': {
                return {
                    name: 'ER2CDS',
                    mandatory: [
                        { name: 'entities', type: 'array' },
                        { name: 'relationships', type: 'array' }
                    ]
                };
            }
            case 'Relationship': {
                return {
                    name: 'Relationship',
                    mandatory: [
                        { name: 'joinClauses', type: 'array' }
                    ]
                };
            }
            default: {
                return {
                    name: type,
                    mandatory: []
                };
            }
        }
    }
}

export const reflection = new ER2CDSAstReflection();
